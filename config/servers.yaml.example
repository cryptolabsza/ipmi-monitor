# IPMI Monitor - Server Configuration
# =====================================
#
# Copy this file to servers.yaml and configure your servers.
# Mount to /app/config/servers.yaml in Docker.
#
# Minimal Required Fields:
#   - name: Display name for the server
#   - bmc_ip: BMC/IPMI management IP address
#
# Optional Fields:
#   - server_ip: OS IP address (for SSH inventory collection)
#   - public_ip: Public/external IP (for documentation/reference)
#   - ipmi_user: IPMI username (uses default IPMI_USER if not set)
#   - ipmi_pass: IPMI password (uses default IPMI_PASS if not set)
#   - ssh_user: SSH username for OS access (default: root)
#   - ssh_port: SSH port (default: 22)
#   - notes: Any notes about this server
#
# Global SSH Key (for all servers without individual keys):
#   Set ssh_key_name in defaults section to use a stored SSH key
#
# ==================== EXAMPLE CONFIGURATION ====================

# Global defaults (optional)
defaults:
  ssh_user: root
  ssh_port: 22
  # ssh_key_name: production-key  # Name of stored SSH key to use for all servers

servers:
  # Minimal configuration - just name and BMC IP
  - name: web-server-01
    bmc_ip: 192.168.1.100

  # Server with custom IPMI credentials
  - name: database-server
    bmc_ip: 192.168.1.101
    ipmi_user: dbadmin
    ipmi_pass: custompassword

  # Server with OS IP for SSH inventory
  - name: app-server-01
    bmc_ip: 192.168.1.102
    server_ip: 192.168.1.12
    notes: Primary application server

  # Server with public IP documented
  - name: edge-server-01
    bmc_ip: 10.0.0.100
    server_ip: 10.0.0.10
    public_ip: 203.0.113.50
    notes: Edge location - Chicago DC

  # GPU server (NVIDIA DGX/HGX with 16-char password)
  # Note: Set IPMI_PASS_NVIDIA environment variable for these
  - name: gpu-server-01
    bmc_ip: 192.168.1.103
    server_ip: 192.168.1.13
    ipmi_user: admin
    notes: ML training server - 8x A100

  # Server with custom SSH settings
  - name: secure-server
    bmc_ip: 192.168.1.104
    server_ip: 192.168.1.14
    ssh_user: ubuntu
    ssh_port: 2222

# ==================== IMPORT/EXPORT ====================
#
# To export your current configuration:
#   GET /api/config/export
#
# To import a configuration:
#   POST /api/config/import
#
# Backups include: servers, settings, SSH keys, alert rules, users
